/* База */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:0; padding:0; background: var(--bg); color: var(--text); transition: background .25s, color .25s; line-height:1.45;}
:root { --header:#f5f5f5; --bg:var(--header); --text:#222; --muted:#0008; }
body.dark { --header:#1e1e1e; --bg:var(--header); --text:#f5f5f5; --muted:#fff8; }

/* Шапка */
header {background: var(--header); padding: 10px; position: sticky; top:0; z-index:10; display:flex; justify-content:center; align-items:center; border-bottom:1px solid #0001;}
.logo {height: 70px; object-fit: contain;}
.logo-link {display:inline-flex;}
#theme-toggle {position:absolute; right:10px; top:50%; transform: translateY(-50%); padding:10px 12px; font-size:16px; cursor:pointer; border-radius:12px; transition: border-color .25s, color .25s, background .25s; background: var(--header);}
body:not(.dark) #theme-toggle {border:1px solid #0003; color:#111;}
body.dark #theme-toggle {border:1px solid #fff3; color:#f5f5f5;}

/* Контент */
.accordion {padding: 8px 10px 24px;}
.acc-item {margin: 12px auto; max-width: 980px;}

/* Кнопки-аккордеон */
.menu-btn {display:block; width:100%; padding:16px; font-size:18px; border:none; border-radius:14px; cursor:pointer; color:#fff; background:linear-gradient(90deg,#ff4500,#1e90ff); text-align:left; box-shadow:0 2px 8px #0002; min-height:56px;}
.menu-btn:active {transform: translateY(1px);}
.menu-btn.active {outline:2px solid #ffffff55; box-shadow:0 4px 14px #0003;}

/* Панели */
.content-section {overflow:hidden; max-height:0; opacity:0; transform:translateY(4px); transition:max-height .35s ease, opacity .25s ease, transform .25s ease, padding .2s ease; padding:0 16px; border:1px solid #0001; border-radius:0 0 14px 14px; background:#fff; scroll-margin-top:90px;}
body.dark .content-section {background:#151515; border-color:#fff1;}
.content-section.open {opacity:1; transform:translateY(0); padding-top:14px; padding-bottom:14px;}

h1,h2,h3 {margin:.6em 0 .4em;}
h2 {font-size: clamp(22px, 4.6vw, 32px);}
h3 {font-size: clamp(18px, 3.8vw, 22px);}
p, li {font-size: clamp(15px, 3.6vw, 18px);}

/* Контакты */
.contacts a {text-decoration: underline;}
body.dark .contacts a {color:#1e90ff;}

/* Контейнеры */
.container {max-width: 980px; margin: 12px auto 24px; padding: 16px; background:#fff; border-radius: 14px; border:1px solid #0001;}
body.dark .container {background:#151515; border-color:#fff1;}
.kicker {font-size:13px; opacity:.8;}

/* Калькулятор (чистый) */
.calc-table {width:100%; border-collapse: collapse; margin-top:10px;}
.calc-table th, .calc-table td {border-bottom:1px solid #0001; padding:10px;}
.calc-table th {text-align:left; opacity:.8; font-weight:700;}
.calc-table input[type="number"] {width: 68px; text-align:center; padding:10px 12px; border-radius:12px; border:2px solid; border-color: var(--input-border, #000); background: var(--input-bg, transparent); color:inherit; font-size:16px;}
body.dark .calc-table input[type="number"] { --input-border:#fff; --input-bg:#0f0f0f; }
body:not(.dark) .calc-table input[type="number"] { --input-border:#000; --input-bg:#fff; }
.total-line {text-align:right; font-size:20px; margin-top:12px; font-weight:700;}

/* Мобильная адаптация */
@media (max-width: 720px) {
  header {padding:8px;}
  .logo {height:60px;}
  .accordion {padding: 6px 8px 18px;}
  .menu-btn {font-size:17px; min-height:52px; padding:14px;}
  .container {margin:10px 8px 18px; padding:14px;}
  .total-line {font-size:18px;}

  .calc-table thead {display:none;}
  .calc-table, .calc-table tbody, .calc-table tr, .calc-table td {display:block; width:100%;}
  .calc-table tbody tr {border:1px solid #0001; border-radius:12px; padding:8px 10px; margin-bottom:10px; background:inherit;}
  .calc-table td {border:none; display:flex; justify-content:space-between; align-items:center; padding:8px 0;}
  .calc-table td::before {content: attr(data-label); font-size:13px; opacity:.7; margin-right:12px; flex: 1 1 auto; text-align:left;}
  .calc-table td > *:not(:first-child) {margin-left:12px;}
  .calc-table input[type="number"] {width:60px;}
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

.hidden{display:none !important;}
